{% extends "layout.html" %}

{% block body %}

    <div class="row pt-3 pb-3">
        <div class="col-sm">
            
            <form action="/user" method="post">
                <div class="input-group mx-auto">
                        <input type="search" class="form-control rounded" name="search" size="50" placeholder="Type in a username or user ID" aria-label="Search" aria-describedby="search-addon" value = {{ searchstr }} ></input>
                        <button type="submit" class="btn btn-primary">Search</button>
                </div></br>
                Sort by: &nbsp;
                <div class="btn-group">
                    <input type="radio" class="btn-check" name="sortby" id="usersort" value="usersort" autocomplete="off" {% if sortby == 'usersort' %} checked {% endif %}>
                    <label class="btn btn-outline-primary" for="usersort">Username</label>
                    
                    <input type="radio" class="btn-check" name="sortby" id="countrysort" value="countrysort" autocomplete="off" {% if sortby == 'countrysort' %} checked {% endif %}>
                    <label class="btn btn-outline-primary" for="countrysort">Country</label>
                    
                    <input type="radio" class="btn-check" name="sortby" id="ranksort" value="ranksort" autocomplete="off" {% if sortby == 'ranksort' %} checked {% endif %}>
                    <label class="btn btn-outline-primary" for="ranksort">Rank</label>

                    <input type="radio" class="btn-check" name="sortby" id="idsort" value="idsort" autocomplete="off" {% if sortby == 'idsort' %} checked {% endif %}>
                    <label class="btn btn-outline-primary" for="idsort">User ID</label>
                </div>&nbsp;
                <div class="form-check" style="display: inline-block;">
                    <input class="form-check-input" type="checkbox" value="" name="countryonly" id="countryonly" {% if countryonly %} checked {% endif %}>
                    <label class="form-check-label" for="countryonly">
                        List users from your own country only
                    </label>
                </div>
            </form>
        </div></br>
    </div>
    
    
        <table class="table table-striped table-hover">
            <tr><th>Username</th><th>Country</th><th>Country Rank</th><th>Rank</th><th>User ID</th></tr>
            {% for i in user %}
             <tr>
                <td>{{ i[0] }}</td>
                <td>{{ i[1] }}</td>
                <td>{{ i[3] }}</td>
                <td>{{ i[2] }}</td>
                <td>{{ i[4] }}</td>
             </tr>
            {% endfor %}
        </table>
    </div>
{% endblock %}